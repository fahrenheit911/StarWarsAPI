# Структура работы StarWarsAPI

## Архитектура

StarWarsAPI основан на архитектуре клиент-сервер, где фронтенд (StarWarsExplorer) взаимодействует с бэкендом (StarWarsAPI) через REST API. Бэкенд использует Node.js и Express.js для обработки HTTP-запросов, PostgreSQL для хранения данных и TypeORM для работы с базой данных.

## Компоненты

### Frontend (StarWarsExplorer)

Фронтенд-приложение, которое делает HTTP-запросы к StarWarsAPI для получения данных о персонажах, планетах и звездных кораблях.

### Backend (StarWarsAPI)

- **Express.js server**: Обрабатывает входящие HTTP-запросы от клиента и направляет их к соответствующим обработчикам.
- **Controllers**: Обрабатывают логику запросов, взаимодействуют с сервисами и возвращают ответы клиенту.
- **Services**: Содержат бизнес-логику и взаимодействуют с базой данных.
- **DAO (Data Access Object)**: Отвечают за доступ к данным и взаимодействие с базой данных через TypeORM.
- **Entities**: Определяют структуру данных и методы взаимодействия с PostgreSQL через TypeORM.
- **Routs**: Определяют конечные точки API и связывают их с соответствующими контроллерами.

### База данных (PostgreSQL)

Хранит данные о вселенной Звездных войн, такие как персонажи, планеты и звездные корабли.

### Миграции данных (Data migrations)

Скрипты для переноса данных из публичного API SWAPI в локальную базу данных.

## Взаимодействие компонентов

### HTTP-запросы от клиента (HTTP request client)

Клиентское приложение делает HTTP-запросы к REST API для получения данных. Например, `GET /api/people` для получения списка персонажей.

### Маршрутизация запросов (Query routing)

Express.js обрабатывает запросы и направляет их к соответствующим маршрутам. Например, запрос `GET /api/people` направляется к маршруту для получения списка персонажей.

### Контроллеры (Controllers)

Контроллеры получают запросы от маршрутов, обрабатывают их, взаимодействуют с сервисами и формируют ответы. Например, контроллер для персонажей вызывает сервис для получения списка персонажей из базы данных.

### Сервисы (Services)

Сервисы содержат бизнес-логику и взаимодействуют с базой данных через DAO. Например, сервис для персонажей запрашивает список персонажей из PostgreSQL.

### DAO

DAO отвечает за взаимодействие с базой данных через TypeORM. Например, DAO для персонажей выполняет запросы к базе данных для получения или изменения данных.

### Сущности (Entities)

Модели определяют структуру данных и методы взаимодействия с PostgreSQL через TypeORM. Например, модель персонажа определяет схему данных для персонажей и методы для выполнения запросов к базе данных.

### Ответы клиенту (Responses to client)

Контроллеры формируют ответы и отправляют их обратно клиенту. Например, после получения списка персонажей из сервиса, контроллер отправляет этот список в виде JSON ответа клиенту.
